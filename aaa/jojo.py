@cli.command()
def jojo():
    from spinach.services import games
    import time
    lst = [{'id': '1754', 'platform': 'XIN', 'name': '内衣橄榄球', 'hot': False, 'sort': 50}, {'id': '1755', 'platform': 'XIN', 'name': '白雪公主', 'hot': False, 'sort': 49}, {'id': '1756', 'platform': 'XIN', 'name': '多宝鱼虾蟹', 'hot': False, 'sort': 48}, {'id': '1757', 'platform': 'XIN', 'name': '跳跳乐', 'hot': False, 'sort': 47}, {'id': '1758', 'platform': 'XIN', 'name': '僵尸来袭', 'hot': False, 'sort': 46}, {'id': '1759', 'platform': 'XIN', 'name': '永恒之吻', 'hot': False, 'sort': 45}, {'id': '1760', 'platform': 'XIN', 'name': '狂野女巫', 'hot': False, 'sort': 44}, {'id': '1761', 'platform': 'XIN', 'name': '恐怖嘉年华', 'hot': False, 'sort': 43}, {'id': '601', 'platform': 'XIN', 'name': '百搭777', 'hot': False, 'sort': 42}, {'id': '1763', 'platform': 'XIN', 'name': '钻石女王', 'hot': False, 'sort': 41}, {'id': '1764', 'platform': 'XIN', 'name': '嫦娥奔月', 'hot': False, 'sort': 40}, {'id': '600', 'platform': 'XIN', 'name': '爱丽丝大冒险', 'hot': False, 'sort': 39}, {'id': '1766', 'platform': 'XIN', 'name': '战火风云', 'hot': False, 'sort': 38}, {'id': '1767', 'platform': 'XIN', 'name': '亚瑟王', 'hot': False, 'sort': 37}, {'id': '1768', 'platform': 'XIN', 'name': '穆夏女神', 'hot': False, 'sort': 36}, {'id': '1769', 'platform': 'XIN', 'name': '龙虎', 'hot': False, 'sort': 35}, {'id': '1770', 'platform': 'XIN', 'name': '冠军足球', 'hot': False, 'sort': 34}, {'id': '599', 'platform': 'XIN', 'name': '王者传说', 'hot': False, 'sort': 33}, {'id': '1773', 'platform': 'XIN', 'name': '阿里巴巴', 'hot': False, 'sort': 31}, {'id': '602', 'platform': 'XIN', 'name': '神奇宝石', 'hot': False, 'sort': 30}, {'id': '1', 'platform': 'XIN', 'name': 'XIN哥来了', 'hot': True, 'sort': 29}, {'id': '8', 'platform': 'XIN', 'name': '金龙珠', 'hot': True, 'sort': 28}, {'id': '9', 'platform': 'XIN', 'name': '猛龙传奇', 'hot': False, 'sort': 27}, {'id': '14', 'platform': 'XIN', 'name': '金拉霸', 'hot': True, 'sort': 26}, {'id': '15', 'platform': 'XIN', 'name': '街头烈战', 'hot': False, 'sort': 25}, {'id': '1776', 'platform': 'XIN', 'name': '富贵金鸡', 'hot': False, 'sort': 24}, {'id': '22', 'platform': 'XIN', 'name': '美女大格斗', 'hot': False, 'sort': 23}, {'id': '20', 'platform': 'XIN', 'name': '中秋佳节', 'hot': False, 'sort': 22}, {'id': '21', 'platform': 'XIN', 'name': '韩风劲舞', 'hot': False, 'sort': 21}, {'id': '23', 'platform': 'XIN', 'name': '黄金对垒', 'hot': False, 'sort': 20}, {'id': '19', 'platform': 'XIN', 'name': '龙舟竞渡', 'hot': False, 'sort': 19}, {'id': '50', 'platform': 'XIN', 'name': '冰河世界', 'hot': False, 'sort': 18}, {'id': '52', 'platform': 'XIN', 'name': '糖果碰碰乐', 'hot': False, 'sort': 17}, {'id': '51', 'platform': 'XIN', 'name': '水果拉霸2', 'hot': True, 'sort': 16}, {'id': '49', 'platform': 'XIN', 'name': '上海百乐门', 'hot': False, 'sort': 15}, {'id': '1777', 'platform': 'XIN', 'name': '百搭二王', 'hot': False, 'sort': 14}, {'id': '1778', 'platform': 'XIN', 'name': '红利百搭', 'hot': False, 'sort': 13}, {'id': '56', 'platform': 'XIN', 'name': '龙珠', 'hot': False, 'sort': 12}, {'id': '57', 'platform': 'XIN', 'name': '幸运8', 'hot': False, 'sort': 11}, {'id': '58', 'platform': 'XIN', 'name': '闪亮女郎', 'hot': False, 'sort': 10}, {'id': '59', 'platform': 'XIN', 'name': '金鱼', 'hot': False, 'sort': 9}, {'id': '60', 'platform': 'XIN', 'name': '中国新年', 'hot': False, 'sort': 8}, {'id': '61', 'platform': 'XIN', 'name': '海盗王', 'hot': False, 'sort': 7}, {'id': '62', 'platform': 'XIN', 'name': '鲜果狂热', 'hot': False, 'sort': 6}, {'id': '63', 'platform': 'XIN', 'name': '小熊猫', 'hot': False, 'sort': 5}, {'id': '55', 'platform': 'XIN', 'name': '大豪客', 'hot': False, 'sort': 4}, {'id': '64', 'platform': 'XIN', 'name': '灵猴献瑞', 'hot': False, 'sort': 3}, {'id': '175', 'platform': 'YOPLAY', 'name': '森林舞会', 'hot': True, 'sort': 46}, {'id': '176', 'platform': 'YOPLAY', 'name': '奔驰宝马', 'hot': True, 'sort': 45}, {'id': '177', 'platform': 'YOPLAY', 'name': '极速赛马', 'hot': False, 'sort': 44}, {'id': '1788', 'platform': 'YOPLAY', 'name': '猜猜乐', 'hot': False, 'sort': 43}, {'id': '1821', 'platform': 'YOPLAY', 'name': '水果拉霸', 'hot': True, 'sort': 42}, {'id': '172', 'platform': 'YOPLAY', 'name': '德州牛仔', 'hot': False, 'sort': 41}, {'id': '173', 'platform': 'YOPLAY', 'name': '飞禽走兽', 'hot': True, 'sort': 40}, {'id': '171', 'platform': 'YOPLAY', 'name': '水果派对', 'hot': True, 'sort': 39}, {'id': '174', 'platform': 'YOPLAY', 'name': '森林舞会多人版', 'hot': True, 'sort': 38}, {'id': '178', 'platform': 'YOPLAY', 'name': '水果拉霸多人版', 'hot': True, 'sort': 37}, {'id': '180', 'platform': 'YOPLAY', 'name': '百人牛牛', 'hot': False, 'sort': '1'}, {'id': '181', 'platform': 'YOPLAY', 'name': '多宝水果拉霸', 'hot': False, 'sort': 36}, {'id': '182', 'platform': 'YOPLAY', 'name': '彩金水果拉霸', 'hot': False, 'sort': 35}, {'id': '183', 'platform': 'YOPLAY', 'name': '飞禽走兽多人版', 'hot': True, 'sort': 34}, {'id': '184', 'platform': 'YOPLAY', 'name': '牛牛对战', 'hot': False, 'sort': 33}, {'id': '185', 'platform': 'YOPLAY', 'name': '奔驰宝马多人版', 'hot': False, 'sort': 32}, {'id': '186', 'platform': 'YOPLAY', 'name': '动物狂欢', 'hot': False, 'sort': 31}, {'id': '620', 'platform': 'YOPLAY', 'name': '西游争霸', 'hot': True, 'sort': 30}, {'id': '619', 'platform': 'YOPLAY', 'name': '翻倍炸金花', 'hot': False, 'sort': 29}, {'id': '618', 'platform': 'YOPLAY', 'name': '刺激战场', 'hot': False, 'sort': 28}, {'id': '617', 'platform': 'YOPLAY', 'name': '斗三公', 'hot': False, 'sort': 27}, {'id': '616', 'platform': 'YOPLAY', 'name': '红黑梅方', 'hot': True, 'sort': 26}, {'id': '615', 'platform': 'YOPLAY', 'name': '彩金宝藏世界', 'hot': False, 'sort': 25}, {'id': '614', 'platform': 'YOPLAY', 'name': '疯狂德州', 'hot': False, 'sort': 24}, {'id': '613', 'platform': 'YOPLAY', 'name': '彩金奔驰宝马', 'hot': False, 'sort': 23}, {'id': '612', 'platform': 'YOPLAY', 'name': '海陆争霸', 'hot': False, 'sort': 22}, {'id': '611', 'platform': 'YOPLAY', 'name': '百人推筒子', 'hot': False, 'sort': 21}, {'id': '610', 'platform': 'YOPLAY', 'name': '功夫万条筒', 'hot': False, 'sort': 20}, {'id': '609', 'platform': 'YOPLAY', 'name': '双喜炸金花', 'hot': False, 'sort': 19}, {'id': '608', 'platform': 'YOPLAY', 'name': '凤凰传奇', 'hot': False, 'sort': 18}, {'id': '607', 'platform': 'YOPLAY', 'name': '全民21点', 'hot': False, 'sort': 17}, {'id': '606', 'platform': 'YOPLAY', 'name': '福星推筒子', 'hot': False, 'sort': 16}, {'id': '605', 'platform': 'YOPLAY', 'name': 'YP刮刮卡', 'hot': True, 'sort': 15}, {'id': '604', 'platform': 'YOPLAY', 'name': '财富转盘', 'hot': False, 'sort': 14}, {'id': '603', 'platform': 'YOPLAY', 'name': '射龙门', 'hot': False, 'sort': 13}, {'id': '1807', 'platform': 'YOPLAY', 'name': '11选5', 'hot': False, 'sort': 12}, {'id': '1808', 'platform': 'YOPLAY', 'name': '幸运7', 'hot': False, 'sort': 11}, {'id': '1809', 'platform': 'YOPLAY', 'name': '宠物乐园', 'hot': False, 'sort': 10}, {'id': '1810', 'platform': 'YOPLAY', 'name': '彩金飞禽走兽', 'hot': False, 'sort': 9}, {'id': '1811', 'platform': 'YOPLAY', 'name': '皇牌ACE', 'hot': False, 'sort': 8}, {'id': '1812', 'platform': 'YOPLAY', 'name': '彩金森林舞会', 'hot': False, 'sort': 7}, {'id': '1813', 'platform': 'YOPLAY', 'name': '一飞冲天', 'hot': False, 'sort': 6}, {'id': '1814', 'platform': 'YOPLAY', 'name': '财富大道', 'hot': False, 'sort': 5}, {'id': '2100', 'platform': 'YOPLAY', 'name': '楚汉德州', 'hot': False, 'sort': 4}]
    total = times = len(lst)
    start = 0
    end = 10
    error_data = []
    while times > 0:
        print(f'開始更新第{start} ~ {end}筆資料')
        time.sleep(0.5)
        if end >= total:
            end = total
        try:
            db.session.bulk_update_mappings(games.__model__, lst[start:end])
            db.session.commit()
            start = end
            end += 10
            times -= 10
        except:
            print('start:', start, 'end:', end)
            error_data.extend(lst[start:end])
            start = end
            end += 10
            times -= 10
    print(error_data)